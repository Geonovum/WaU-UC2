{
  "$id": "https://raw.githubusercontent.com/Geonovum/WaU-UC2/main/gebouw-nolineage.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Gebouw",
  "type": "object",
  "required": [
    "identificatie",
    "domein",
    "bouwjaar",
    "sloopjaar",
    "type",
    "geometrie",
    "isGeregistreerdMet"
  ],
  "properties": {
    "identificatie": {
      "type": "string"
    },
    "domein": {
      "description": "Het domein waar het object aan toe behoort.",
      "type": "string"
    },
    "bouwjaar": {
      "type": [
        "integer",
        null
      ]
    },
    "sloopjaar": {
      "type": [
        "integer",
        null
      ]
    },
    "type": {
      "type": [
        "string",
        null
      ]
    },
    "geometrie": {
      "$ref": "#/$defs/Geometrie"
    },
    "heeftAlsAdres": {
      "description": "Een Gebouw heeft nul of meer Adressen",
      "type": "array",
      "items": {
        "$ref": "#/$defs/Adres"
      },
      "minItems": 0
    },
    "isGeregistreerdMet": {
      "$ref": "#/$defs/Registratiegegevens"
    }
  },
  "$defs": {
    "Registratiegegevens": {
      "type": "object",
      "required": [
        "tijdstipRegistratie",
        "eindRegistratie"
      ],
      "properties": {
        "tijdstipRegistratie": {
          "type": "string",
          "format": "date-time"
        },
        "eindRegistratie": {
          "type": [
            "string",
            null
          ],
          "format": "date-time"
        }
      }
    },
    "Gebouw": {
      "type": "object",
      "required": [
        "identificatie",
        "domein",
        "bouwjaar",
        "sloopjaar",
        "type",
        "geometrie",
        "isGeregistreerdMet"
      ],
      "properties": {
        "identificatie": {
          "type": "string"
        },
        "domein": {
          "description": "Het domein waar het object aan toe behoort.",
          "type": "string"
        },
        "bouwjaar": {
          "type": [
            "integer",
            null
          ]
        },
        "sloopjaar": {
          "type": [
            "integer",
            null
          ]
        },
        "type": {
          "type": [
            "string",
            null
          ]
        },
        "geometrie": {
          "$ref": "#/$defs/Geometrie"
        },
        "heeftAlsAdres": {
          "description": "Een Gebouw heeft nul of meer Adressen",
          "type": "array",
          "items": {
            "$ref": "#/$defs/Adres"
          },
          "minItems": 0
        },
        "isGeregistreerdMet": {
          "$ref": "#/$defs/Registratiegegevens"
        }
      }
    },
    "Geometrie": {
      "title": "Geometrie",
      "type": "object",
      "required": [
        "bovenaanzicht",
        "maaiveld",
        "3d"
      ],
      "properties": {
        "bovenaanzicht": {
          "$ref": "#/$defs/polygonGeoJSON"
        },
        "maaiveld": {
          "$ref": "#/$defs/multipolygonGeoJSON"
        },
        "3d": {
          "$ref": "#/$defs/MultiPolyhedron"
        }
      }
    },
    "Adres": {
      "title": "Adres",
      "description": "Een samengesteld adres van gegevens van een Nummeraanduiding, Openbare ruimte en Woonplaats in de Basisregistratie Adressen en Gebouwen (BAG).",
      "type": "object",
      "required": [
        "identificatie",
        "domein",
        "omschrijving",
        "straatnaam",
        "huisnummer",
        "plaatsnaam",
        "isHoofdadres",
        "isGeregistreerdMet"
      ],
      "properties": {
        "identificatie": {
          "type": "string"
        },
        "domein": {
          "description": "Het domein waar het object aan toe behoort.",
          "type": "string"
        },
        "omschrijving": {
          "description": "De unieke aanduiding van een nummeraanduiding.",
          "type": "string"
        },
        "straatnaam": {
          "description": "Een naam die aan een openbare ruimte is toegekend in een daartoe strekkend formeel gemeentelijk besluit.",
          "type": "string"
        },
        "huisnummer": {
          "description": "Een door of namens het gemeentebestuur ten aanzien van een adresseerbaar object toegekende nummering.",
          "type": "integer",
          "pattern": "^[1-9][0-9]{0,4}$"
        },
        "huisletter": {
          "description": "Een door of namens het gemeentebestuur ten aanzien van een adresseerbaar object toegekende toevoeging aan een huisnummer in de vorm van een alfanumeriek teken.",
          "type": [
            "string",
            null
          ],
          "pattern": "^[a-zA-Z]{1}$"
        },
        "huisnummertoevoeging": {
          "description": "Een door of namens het gemeentebestuur ten aanzien van een adresseerbaar object toegekende nadere toevoeging aan een huisnummer of een combinatie van huisnummer en huisletter.",
          "type": [
            "string",
            null
          ],
          "pattern": "^[0-9a-zA-Z]{1,4}$"
        },
        "postcode": {
          "description": "De door PostNL vastgestelde code behorende bij een bepaalde combinatie van een straatnaam en een huisnummer.",
          "type": [
            "string",
            null
          ],
          "pattern": "^[1-9][0-9]{3}[A-Z]{2}$"
        },
        "plaatsnaam": {
          "description": "De benaming van een door het gemeentebestuur aangewezen woonplaats.",
          "type": "string"
        },
        "isHoofdadres": {
          "description": "Indicatie of het adres een hoofdadres is.",
          "type": "boolean"
        },
        "isGeregistreerdMet": {
          "$ref": "#/$defs/Registratiegegevens"
        }
      }
    },
    "polygonGeoJSON": {
      "type": "object",
      "required": [
        "type",
        "coordinates"
      ],
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "Polygon"
          ]
        },
        "coordinates": {
          "type": "array",
          "items": {
            "type": "array",
            "minItems": 4,
            "items": {
              "type": "array",
              "minItems": 2,
              "items": {
                "type": "number"
              }
            }
          }
        }
      }
    },
    "multipolygonGeoJSON": {
      "type": "object",
      "required": [
        "type",
        "coordinates"
      ],
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "MultiPolygon"
          ]
        },
        "coordinates": {
          "type": "array",
          "items": {
            "type": "array",
            "items": {
              "type": "array",
              "minItems": 4,
              "items": {
                "type": "array",
                "minItems": 2,
                "items": {
                  "type": "number"
                }
              }
            }
          }
        }
      }
    },
    "Polyhedron": {
      "title": "JSON-FG Polyhedron",
      "type": "object",
      "required": ["type", "coordinates"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["Polyhedron"]
        },
        "coordRefSys": {
          "$ref": "coordrefsys.json"
        },
        "coordinates": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "array",
                "minItems": 4,
                "items": {
                  "$ref": "#/$defs/position3d"
                }
              }
            }
          }
        },
        "bbox": {
          "$ref": "#/$defs/bbox3d"
        }
      }
    },
    "MultiPolyhedron": {
      "title": "JSON-FG MultiPolyhedron",
      "type": "object",
      "required": ["type", "coordinates"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["MultiPolyhedron"]
        },
        "coordRefSys": {
          "$ref": "coordrefsys.json"
        },
        "coordinates": {
          "type": "array",
          "items": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "array",
                "minItems": 1,
                "items": {
                  "type": "array",
                  "minItems": 4,
                  "items": {
                    "$ref": "#/$defs/position3d"
                  }
                }
              }
            }
          }
        },
        "bbox": {
          "$ref": "#/$defs/bbox3d"
        }
      }
    },
    "position3d": {
      "type": "array",
      "minItems": 3,
      "maxItems": 3,
      "items": {
        "type": "number"
      }
    },
    "bbox3d": {
      "type": "array",
      "minItems": 6,
      "maxItems": 6,
      "items": {
        "type": "number"
      }
    }
  }
}
